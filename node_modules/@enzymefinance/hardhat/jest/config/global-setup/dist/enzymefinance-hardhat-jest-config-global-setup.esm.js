import _asyncToGenerator from '@babel/runtime/helpers/esm/asyncToGenerator';
import _regeneratorRuntime from '@babel/runtime/regenerator';
import fs from 'fs-extra';
import os from 'os';
import path from 'path';
import { v4 } from 'uuid';

var globalSetup = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {
  return _regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.t0 = path;
          _context.next = 3;
          return fs.realpath(os.tmpdir());

        case 3:
          _context.t1 = _context.sent;
          _context.t2 = v4();
          process.env.__HARDHAT_COVERAGE_TEMPDIR__ = _context.t0.join.call(_context.t0, _context.t1, _context.t2);

        case 6:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
}));

export default globalSetup;
